---
title: "Profiling code speed"
date: 02/05/2019
output: pdf_document
---

## Loading the blockrct2_power.R file

```{r}
source("blockrct2_power.R")
#library(pum)
```
## Parameters for testing power function

The initial conditions for power are set as below. We are setting vectors of 5 variables as the initial choices.

```{r}
M <- c(5:10)
MDES <- seq(from = 0.125, to = 0.1, length.out = 5 )
Aimpacts <- seq(from = 5, to = 1, length.out = 5)
J <- seq(10, 50, length.out = 5)
n.j <- seq(50,100, length.out = 5)
R2.1 <- seq(0.4, 0.9, length.out = 5)
p <- 0.5
alpha <- 0.05
numCovar.1 <- c(5:10)
```

### Test case 1 for power

M = 5
MDES = 0.125
Ai = 3
J = 10
n.j = 10
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 10
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 5, MDES = 0.125, Ai = 3 , J = 10 , n.j = 10, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 10, updateProgress = NULL)
```

### Test case 2 for Power

M = 10
MDES = 0.125
Ai = 3
J = 10
n.j = 100
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 10
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 10 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 10, updateProgress = NULL)
```

### Test case 3 for Power

M = 5
MDES = 0.125
Ai = 3
J = 10
n.j = 10
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 100
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 10 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 100, updateProgress = NULL)
```

### Test case 4 for Power

M = 10
MDES = 0.125
Ai = 3
J = 50
n.j = 100
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 200
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 10 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 100, updateProgress = NULL)
```


### Test case 5 for Power

M = 10
MDES = 0.125
Ai = 3
J = 50
n.j = 100
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 500
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 50 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 500, updateProgress = NULL)
```




### Test case 6 for Power

Number of clusters would be changed to 4 from the default of 2.

M = 10
MDES = 0.125
Ai = 3
J = 50
n.j = 100
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 500
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 50 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 500, updateProgress = NULL)
```


### Test case 7 for Power

Number of clusters is back to 2 but, the sample number for Westfall-Young is doubled further to the minimum a thousand.

M = 10
MDES = 0.125
Ai = 3
J = 50
n.j = 100
R2.1 = 0.5
p = 0.5
alpha = 0.05
numCovar.1 = 5
numCovar.2 = NULL
ICC = NULL
tnum = 10000
snum = 1000
updateProgress = NULL

```{r}
power.blockedRCT.2(M = 10, MDES = 0.125, Ai = 3 , J = 50 , n.j = 100, R2.1 = 0.5 , p = 0.5 , alpha = 0.05 , numCovar.1 = 5 , numCovar.2 = NULL, ICC = NULL, tnum = 10000, snum = 1000, updateProgress = NULL)
```










